<%- include("../partials/header")%>

    <!-- FORM -->
    <div class="poke-edit-form">


        <div class="">
            <p>
                <%if (pokemon.nickname !=='' ){ %>
                    "<%=pokemon.nickname%>" the <%=pokemon.name%>
                            <%} else {%>
                                <%=pokemon.name%>
                                    <%}%>
            </p>
            <img src="<%=pokemon.sprite%>">
            <div>
                <h3>Type:</h3>
                <%if (pokemon.type2) {%>
                    <p><%=pokemon.type1.toUpperCase()%> / <%=pokemon.type2.toUpperCase() %></p>
                <% } else { %>
                    <p><%=pokemon.type1.toUpperCase() %></p>
                <% } %>

                <h3>Ability:</h3>
                <p><%=pokemon.abilities.current.toUpperCase()%></p>
                <h3>Item:</h3>
                <%if (pokemon.heldItem) {%>
                    <p><%=pokemon.heldItem.toUpperCase()%></p>
                <% } else { %>
                    <p>None</p>
                <% } %>
                <h3>Base Stats</h3>
                <div>
                    <p>HP:</p><p><%=pokemon.stats[0].values.base%></p>
                    <p>ATK:</p><p><%=pokemon.stats[1].values.base%></p>
                    <p>DEF:</p><p><%=pokemon.stats[2].values.base%></p>
                    <p>SpATK:</p><p><%=pokemon.stats[3].values.base%></p>
                    <p>SpDEF:</p><p><%=pokemon.stats[4].values.base%></p>
                    <p>SPEED:</p><p><%=pokemon.stats[5].values.base%></p>                    
                </div>
            </div>
            



            <form class="" action="/pokemon/<%=pokemon._id%>?_method=PUT" method="POST">
                            



                <label id="">Enter/Change Nickname:
                    <input type="text" name="nickname" class="" value="<%=pokemon.nickname%>"></input>
                </label>
                <label id="">Change Held Item:
                    <select name="heldItem">
                        <%items.forEach(i => { %>
                            <option value="<%=i.name%>"><%=i.name.toUpperCase()%></option>
                       <% })%>
                        <!-- will add a forEach function to list all possible held items from database -->
                        </select>
                </label>
                <label>Change Ability
                    <select name="ability" id="">
                        <%pokemon.abilities.all.forEach(a => {%>
                            <option value="<%=a%>"><%=a.toUpperCase()%></option>
                        <% }) %>                        
                    </select>
                </label>
                <button type="submit" class="new-button">Save</button>
            </form>



        </div>
    </div>

    <%- include("../partials/footer")%>